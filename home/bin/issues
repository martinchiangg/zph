#!/bin/sh

choose_sack_implementation(){
  # If so, use prioritized wrapper
  if [[ `which ag` ]]; then
    command=`which sag`;
  elif [[ `which ack` ]]; then
    command=`which sack`;
  elif [[ `which ack-grep` ]]; then
    command=`which sack`
  fi
}

choose_bare_bin_implementation(){
  if [[ `which ag` ]]; then
    command=`which ag`;
  elif [[ `which ack` ]]; then
    command=`which ack`;
  elif [[ `which ack-grep` ]]; then
    command=`which ack`;
  else
    echo "No search tool found... install ag or ack (ack-grep) and also sack"
  fi
}
# Check for sack scripts (ack wrapper)
if [[ `which sack` ]];then
  choose_sack_implementation
else
  choose_bare_bin_implementation
fi

$command 'TODO|FIXME|XXX|HACK'
